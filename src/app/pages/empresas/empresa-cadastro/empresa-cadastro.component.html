<ion-header>
  <ion-toolbar color="primary">
    <ion-title>{{ editando ? 'Edição' : 'Cadastro'}} Empresa</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="empresas"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <form (ngSubmit)="onSubmit()" #form="ngForm">

    <ion-item>
      <ion-label position="stacked">Cnpj</ion-label>
      <ion-input type="tel" [(ngModel)]="empresas.cnpj"
      (ionBlur)="consultaCNPJ(cnpj, form)" name="cnpj" #cnpj="ngModel" placeholder="00000000000000"  maxlength="14" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Razão Social</ion-label>
      <ion-input [(ngModel)]="empresas.razao_social" name="razao_social" #razao_social="ngModel"  required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Cep</ion-label>
      <ion-input
      [(ngModel)]="empresas.cep" (ionBlur)="consultaCEP(cep, form)" id="cep" name="cep" #cep="ngModel" maxlength="8" placeholder="00000000" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Logradouro</ion-label>
      <ion-input [(ngModel)]="empresas.logradouro" name="logradouro" #logradouro="ngModel" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Bairro</ion-label>
      <ion-input [(ngModel)]="empresas.bairro" name="bairro" #bairro="ngModel" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Número</ion-label>
      <ion-input [(ngModel)]="empresas.numero" name="numero" #numero="ngModel" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Complemento</ion-label>
      <ion-input [(ngModel)]="empresas.complemento" name="complemento" #complemento="ngModel" required></ion-input>
    </ion-item>


    <ion-item>
      <ion-label position="stacked">Cidade</ion-label>
      <ion-input [(ngModel)]="empresas.localidade" name="localidade" #localidade="ngModel" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Estado</ion-label>
      <ion-input [(ngModel)]="empresas.uf" name="uf" #uf="ngModel" required></ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="stacked">Contato</ion-label>
      <ion-input type="tel" [(ngModel)]="empresas.ddd_telefone_1" name="ddd_telefone_1" #ddd_telefone_1="ngModel" placeholder="(99)9999-99999" maxlength="14" mask="(**)*****-****" required></ion-input>
    </ion-item>


    <ion-button type="submit" class="ion-padding" [disabled]="form.invalid" color="primary" expand="block">
      Salvar
    </ion-button>
  </form>
</ion-content>
